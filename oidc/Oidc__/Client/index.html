<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Client (oidc.Oidc__.Client)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">oidc</a> &#x00BB; <a href="../index.html">Oidc__</a> &#x00BB; Client</nav><h1>Module <code>Oidc__.Client</code></h1><nav class="toc"><ul><li><a href="#standard-client">Standard client</a></li><li><a href="#dynamic-registration">Dynamic registration</a></li></ul></nav></header><aside><p>Types and functions to work with clients</p></aside><section><header><h3 id="standard-client"><a href="#standard-client" class="anchor"></a>Standard client</h3></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.id" class="anchored"><td class="def field"><a href="#type-t.id" class="anchor"></a><code>id : string;</code></td></tr><tr id="type-t.response_types" class="anchored"><td class="def field"><a href="#type-t.response_types" class="anchor"></a><code>response_types : <span>string list</span>;</code></td></tr><tr id="type-t.grant_types" class="anchored"><td class="def field"><a href="#type-t.grant_types" class="anchor"></a><code>grant_types : <span>string list</span>;</code></td></tr><tr id="type-t.redirect_uris" class="anchored"><td class="def field"><a href="#type-t.redirect_uris" class="anchor"></a><code>redirect_uris : <span>Uri.t list</span>;</code></td></tr><tr id="type-t.secret" class="anchored"><td class="def field"><a href="#type-t.secret" class="anchor"></a><code>secret : <span>string option</span>;</code></td></tr><tr id="type-t.token_endpoint_auth_method" class="anchored"><td class="def field"><a href="#type-t.token_endpoint_auth_method" class="anchor"></a><code>token_endpoint_auth_method : string;</code></td></tr></table><code>}</code></dt><dd><p>OIDC Client</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <span>?&#8288;secret:string</span> <span>&#45;&gt;</span> <span>response_types:<span>string list</span></span> <span>&#45;&gt;</span> <span>grant_types:<span>string list</span></span> <span>&#45;&gt;</span> <span>redirect_uris:<span>Uri.t list</span></span> <span>&#45;&gt;</span> <span>token_endpoint_auth_method:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create a <a href="index.html#type-t"><span>OIDC Client</span></a></p></dd></dl></section><section><header><h3 id="dynamic-registration"><a href="#dynamic-registration" class="anchor"></a>Dynamic registration</h3></header><dl><dt class="spec type" id="type-meta"><a href="#type-meta" class="anchor"></a><code><span class="keyword">type</span> meta</code><code> = </code><code>{</code><table class="record"><tr id="type-meta.redirect_uris" class="anchored"><td class="def field"><a href="#type-meta.redirect_uris" class="anchor"></a><code>redirect_uris : <span>Uri.t list</span>;</code></td></tr><tr id="type-meta.response_types" class="anchored"><td class="def field"><a href="#type-meta.response_types" class="anchor"></a><code>response_types : <span><span>string list</span> option</span>;</code></td><td class="doc"><p>TODO: use special respone_type</p></td></tr><tr id="type-meta.grant_types" class="anchored"><td class="def field"><a href="#type-meta.grant_types" class="anchor"></a><code>grant_types : <span><span>string list</span> option</span>;</code></td><td class="doc"><p>TODO: use special grant_type</p></td></tr><tr id="type-meta.application_type" class="anchored"><td class="def field"><a href="#type-meta.application_type" class="anchor"></a><code>application_type : <span>string option</span>;</code></td><td class="doc"><p>TODO: use special application_type</p></td></tr><tr id="type-meta.contacts" class="anchored"><td class="def field"><a href="#type-meta.contacts" class="anchor"></a><code>contacts : <span><span>string list</span> option</span>;</code></td><td class="doc"><p>email addresses</p></td></tr><tr id="type-meta.client_name" class="anchored"><td class="def field"><a href="#type-meta.client_name" class="anchor"></a><code>client_name : <span>string option</span>;</code></td></tr><tr id="type-meta.token_endpoint_auth_method" class="anchored"><td class="def field"><a href="#type-meta.token_endpoint_auth_method" class="anchor"></a><code>token_endpoint_auth_method : <span>string option</span>;</code></td><td class="doc"><p>TODO: Only valid strings</p></td></tr><tr id="type-meta.logo_uri" class="anchored"><td class="def field"><a href="#type-meta.logo_uri" class="anchor"></a><code>logo_uri : <span>Uri.t option</span>;</code></td></tr><tr id="type-meta.client_uri" class="anchored"><td class="def field"><a href="#type-meta.client_uri" class="anchor"></a><code>client_uri : <span>Uri.t option</span>;</code></td></tr><tr id="type-meta.policy_uri" class="anchored"><td class="def field"><a href="#type-meta.policy_uri" class="anchor"></a><code>policy_uri : <span>Uri.t option</span>;</code></td></tr><tr id="type-meta.tos_uri" class="anchored"><td class="def field"><a href="#type-meta.tos_uri" class="anchor"></a><code>tos_uri : <span>Uri.t option</span>;</code></td></tr><tr id="type-meta.jwks_uri" class="anchored"><td class="def field"><a href="#type-meta.jwks_uri" class="anchor"></a><code>jwks_uri : <span>Uri.t option</span>;</code></td></tr><tr id="type-meta.sector_identifier_uri" class="anchored"><td class="def field"><a href="#type-meta.sector_identifier_uri" class="anchor"></a><code>sector_identifier_uri : <span>Uri.t option</span>;</code></td></tr><tr id="type-meta.subject_type" class="anchored"><td class="def field"><a href="#type-meta.subject_type" class="anchor"></a><code>subject_type : <span>string option</span>;</code></td><td class="doc"><p>TODO: Use subject_type type; &quot;pairwise&quot; or &quot;public&quot;</p></td></tr><tr id="type-meta.id_token_signed_response_alg" class="anchored"><td class="def field"><a href="#type-meta.id_token_signed_response_alg" class="anchor"></a><code>id_token_signed_response_alg : <span>Jose.Jwa.alg option</span>;</code></td></tr></table><code>}</code></dt><dd><p>Metadata used in registration of dunamic clients</p></dd></dl><dl><dt class="spec value" id="val-make_meta"><a href="#val-make_meta" class="anchor"></a><code><span class="keyword">val</span> make_meta : <span>?&#8288;response_types:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;grant_types:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;application_type:string</span> <span>&#45;&gt;</span> <span>?&#8288;contacts:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;client_name:string</span> <span>&#45;&gt;</span> <span>?&#8288;token_endpoint_auth_method:string</span> <span>&#45;&gt;</span> <span>?&#8288;logo_uri:Uri.t</span> <span>&#45;&gt;</span> <span>?&#8288;client_uri:Uri.t</span> <span>&#45;&gt;</span> <span>?&#8288;policy_uri:Uri.t</span> <span>&#45;&gt;</span> <span>?&#8288;tos_uri:Uri.t</span> <span>&#45;&gt;</span> <span>?&#8288;jwks_uri:Uri.t</span> <span>&#45;&gt;</span> <span>?&#8288;sector_identifier_uri:Uri.t</span> <span>&#45;&gt;</span> <span>?&#8288;subject_type:string</span> <span>&#45;&gt;</span> <span>?&#8288;id_token_signed_response_alg:Jose.Jwa.alg</span> <span>&#45;&gt;</span> <span>redirect_uris:<span>Uri.t list</span></span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-meta">meta</a></code></dt><dt class="spec value" id="val-meta_to_json"><a href="#val-meta_to_json" class="anchor"></a><code><span class="keyword">val</span> meta_to_json : <a href="index.html#type-meta">meta</a> <span>&#45;&gt;</span> Yojson.Safe.t</code></dt><dt class="spec value" id="val-meta_to_string"><a href="#val-meta_to_string" class="anchor"></a><code><span class="keyword">val</span> meta_to_string : <a href="index.html#type-meta">meta</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-dynamic_response"><a href="#type-dynamic_response" class="anchor"></a><code><span class="keyword">type</span> dynamic_response</code><code> = </code><code>{</code><table class="record"><tr id="type-dynamic_response.client_id" class="anchored"><td class="def field"><a href="#type-dynamic_response.client_id" class="anchor"></a><code>client_id : string;</code></td></tr><tr id="type-dynamic_response.client_secret" class="anchored"><td class="def field"><a href="#type-dynamic_response.client_secret" class="anchor"></a><code>client_secret : <span>string option</span>;</code></td></tr><tr id="type-dynamic_response.registration_access_token" class="anchored"><td class="def field"><a href="#type-dynamic_response.registration_access_token" class="anchor"></a><code>registration_access_token : <span>string option</span>;</code></td></tr><tr id="type-dynamic_response.registration_client_uri" class="anchored"><td class="def field"><a href="#type-dynamic_response.registration_client_uri" class="anchor"></a><code>registration_client_uri : <span>string option</span>;</code></td><td class="doc"><p>TODO: use Uri.t</p></td></tr><tr id="type-dynamic_response.client_secret_expires_at" class="anchored"><td class="def field"><a href="#type-dynamic_response.client_secret_expires_at" class="anchor"></a><code>client_secret_expires_at : <span>int option</span>;</code></td></tr><tr id="type-dynamic_response.client_id_issued_at" class="anchored"><td class="def field"><a href="#type-dynamic_response.client_id_issued_at" class="anchor"></a><code>client_id_issued_at : <span>int option</span>;</code></td><td class="doc"><p>seconds from 1970-01-01T0:0:0Z UTC</p></td></tr><tr id="type-dynamic_response.client_id_expires_at" class="anchored"><td class="def field"><a href="#type-dynamic_response.client_id_expires_at" class="anchor"></a><code>client_id_expires_at : <span>int option</span>;</code></td><td class="doc"><p>seconds from 1970-01-01T0:0:0Z UTC</p></td></tr><tr id="type-dynamic_response.application_type" class="anchored"><td class="def field"><a href="#type-dynamic_response.application_type" class="anchor"></a><code>application_type : <span>string option</span>;</code></td></tr></table><code>}</code></dt><dd><p>The actual response response should also include the <a href="index.html#type-meta"><span>metadata</span></a></p></dd></dl><dl><dt class="spec value" id="val-dynamic_is_expired"><a href="#val-dynamic_is_expired" class="anchor"></a><code><span class="keyword">val</span> dynamic_is_expired : <a href="index.html#type-dynamic_response">dynamic_response</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>This is useful to know if you have to re-register your client</p></dd></dl><dl><dt class="spec value" id="val-dynamic_of_json"><a href="#val-dynamic_of_json" class="anchor"></a><code><span class="keyword">val</span> dynamic_of_json : Yojson.Safe.t <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-dynamic_response">dynamic_response</a>, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-dynamic_of_string"><a href="#val-dynamic_of_string" class="anchor"></a><code><span class="keyword">val</span> dynamic_of_string : string <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-dynamic_response">dynamic_response</a>, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-of_dynamic_and_meta"><a href="#val-of_dynamic_and_meta" class="anchor"></a><code><span class="keyword">val</span> of_dynamic_and_meta : <span>dynamic:<a href="index.html#type-dynamic_response">dynamic_response</a></span> <span>&#45;&gt;</span> <span>meta:<a href="index.html#type-meta">meta</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Createa a <a href="index.html#type-t"><span>OIDC Client</span></a> from <code>dynamic</code> and <a href="index.html#type-meta"><code>meta</code></a></p></dd></dl></section></div></body></html>